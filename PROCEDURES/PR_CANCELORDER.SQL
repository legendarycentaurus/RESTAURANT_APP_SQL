DELIMITER $$

CREATE PROCEDURE `PR_CANCEL_ORDER`(IN I_ORDER_NO INT)
BEGIN
    IF EXISTS(SELECT ORDER_NO FROM ORDER_DETAILS WHERE ORDER_NO=I_ORDER_NO)THEN
	UPDATE ORDER_DETAILS SET STATUS='CANCELED' WHERE ORDER_NO=I_ORDER_NO;
	SELECT 'ORDER HAS BEEN CANCELLED';
	ELSE SELECT 'NO SUCH ORDER EXISTS';
	END IF;
    END$$

DELIMITER ;